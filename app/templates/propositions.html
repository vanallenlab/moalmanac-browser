{% extends 'base.html' %}

{% block title %}
Propositions | Molecular Oncology Almanac
{% endblock %}

{% block content %}
  <br>
  <h2 class="title">Propositions</h2>
  <p>
    <a href="https://va-spec.ga4gh.org/en/1.0/core-information-model/entities/proposition.html" target="_blank">GA4GH's Variant Annotation Specification</a> defines a Proposition as an abstract entity representing a possible fact that may be trust or false.
  </p>

  <h4 class="subtitle">Therapeutic Response</h4>
  <table id="propositions-therapeutic-response-table-result" class="table table-striped table-hover table-sm small w-100 dataTable">
      <thead>
          <tr>
            <th style="width: 5%">id</th>
            <th style="width: 10%">Type</th>
            <th style="width: 25%">Biomarker(s)</th>
            <th style="width: 25%">Cancer type</th>
            <th style="width: 25%">Therapy(ies)</th>
            <th style="width: 10%">Statements</th>
          </tr>
      </thead>
      <tbody>
          {% for proposition in propositions_by_category['VariantTherapeuticResponseProposition'] %}
              <tr>
                <td>{{ proposition.id }}</td>
                <td>{{ proposition.predicate }}</td>
                <td>
                  {% for biomarker in proposition.biomarkers %}
                    <a href="{{ url_for('main.biomarkers', biomarker_name=biomarker.name | urlencode) }}">{{ biomarker.name }}</a>{% if not loop.last %}, {% endif %}
                  {% endfor %}
                </td>
                <td><a href="{{ url_for('main.diseases', disease_name=proposition.cancer_type.name | urlencode) }}">{{ proposition.cancer_type.name }}</a></td>
                <td>
                  {% for therapy in proposition['therapies'] %}
                    <a href="{{ url_for('main.therapies', therapy_name=therapy.name) }}">{{ therapy.name }}</a>{% if not loop.last %},{% endif %}
                  {% endfor %}
                </td>
                <td>
                  <!--{{ proposition.aggregates.statement_count }}-->
                  <a href="{{ url_for('main.propositions', proposition_id=proposition.id) }}" class="btn btn-sm" title="More information" data-bs-toggle="tooltip">
                  <i class="bi bi-info-circle" aria-hidden="true"></i>
                  </a>
                </td>
              </tr>
          {% endfor %}
      </tbody>
  </table>
{% endblock %}
