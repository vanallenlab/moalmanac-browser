{% extends 'base.html' %}

{% block title %}
Propositions | Molecular Oncology Almanac
{% endblock %}

{% block content %}
  <br>
  <h2 class="title">Propositions</h2>
  <br>

  <h4 class="subtitle">Therapeutic Response</h4>
  <table id="propositions-therapeutic-response-table-result" class="table table-striped table-hover table-sm small w-100 dataTable">
      <thead>
          <tr>
            <th style="width: 5%">id</th>
            <th style="width: 10%">Type</th>
            <th style="width: 25%">Biomarker(s)</th>
            <th style="width: 25%">Cancer type</th>
            <th style="width: 25%">Therapy(ies)</th>
            <th style="width: 10%">Statements</th>
          </tr>
      </thead>
      <tbody>
          {% for proposition in propositions_by_category['VariantTherapeuticResponseProposition'] %}
              <tr>
                <td>{{ proposition.id }}</td>
                <td>{{ proposition.predicate }}</td>
                <td>{{ proposition['biomarkers'] | map(attribute='name') | join(', ') }}</td>
                <td>{{ proposition['cancer_type']['name'] }}</td>
                <td>
                  {% for therapy in proposition['therapies'] %}
                    <a href="{{ url_for('main.therapies', therapy_name=therapy.name) }}">{{ therapy.name }}</a>{% if not loop.last %},{% endif %}
                  {% endfor %}
                </td>
                <td>{{ proposition.id }}</td>
              </tr>
          {% endfor %}
      </tbody>
  </table>
{% endblock %}